<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ò‡∏≤‡∏ï‡∏∏‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ô (‡∏£‡∏û.‡∏™‡∏∞‡πÄ‡∏î‡∏≤) - Calibrated</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary-gold: #D4AF37; --deep-green: #1B4D3E; }
        body { font-family: 'Prompt', sans-serif; background: #fdfbf7; overflow-y: auto; }
        .thai-bg {
            background-image: radial-gradient(#1B4D3E 1px, transparent 1px), radial-gradient(#D4AF37 1px, transparent 1px);
            background-size: 24px 24px; background-position: 0 0, 12px 12px; opacity: 0.05; position: absolute; inset: 0; z-index: -1;
        }

        /* Card Layout */
        .card-scene { width: 100%; height: 85vh; max-height: 950px; min-height: 750px; position: relative; perspective: 1000px; margin: 20px 0; }
        .card-object { width: 100%; height: 100%; position: absolute; transform-style: preserve-3d; transition: transform 1.2s cubic-bezier(0.4, 0.2, 0.2, 1); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 24px; overflow: hidden; box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.15); }
        .card-front { background: rgba(255, 255, 255, 0.98); border: 1px solid rgba(212, 175, 55, 0.3); transform: rotateY(0deg); }
        
        /* Back Card */
        .card-back { background: white; transform: rotateY(180deg); display: flex; flex-direction: column; height: 100%; }
        .back-header { flex-shrink: 0; position: relative; z-index: 2; }
        .back-content { flex-grow: 1; overflow-y: auto; padding: 20px; padding-bottom: 40px; -webkit-overflow-scrolling: touch; } 
        .back-footer { flex-shrink: 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(5px); border-top: 1px solid #eee; padding: 15px; z-index: 10; }
        
        .is-flipped { transform: rotateY(180deg); }
        .custom-select { appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%231B4D3E' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 0.75rem center; background-repeat: no-repeat; background-size: 1.2em 1.2em; }

        .avatar-container { height: 150px; display: flex; justify-content: center; align-items: flex-end; margin-bottom: -10px; }
        .avatar-img { height: 140px; width: auto; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2)); animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        ::-webkit-scrollbar { width: 5px; } ::-webkit-scrollbar-track { background: transparent; } ::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">
    
    <div class="thai-bg"></div>

    <div class="text-center mb-2 z-10 animate-fade-in-down flex-shrink-0 mt-4">
        <div class="inline-block p-3 rounded-full bg-white shadow-md border border-green-100 mb-2 relative">
            <i class="fas fa-spa text-3xl text-green-700"></i>
        </div>
        <h1 class="text-xl font-bold text-green-900 tracking-wide">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ò‡∏≤‡∏ï‡∏∏‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</h1>
        <p class="text-yellow-700 text-xs font-medium">‡∏â‡∏ö‡∏±‡∏ö‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì (‡∏£‡∏û.‡∏™‡∏∞‡πÄ‡∏î‡∏≤)</p>
    </div>

    <div class="card-scene w-full max-w-sm">
        <div id="cardObject" class="card-object">
            
            <div class="card-face card-front p-6 flex flex-col justify-between">
                <div>
                    <div class="text-center mb-6 mt-4">
                        <h2 class="text-green-800 font-bold text-lg">‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                        <div class="h-1 w-16 bg-gradient-to-r from-yellow-300 to-yellow-500 mx-auto mt-2 rounded-full"></div>
                        <p class="text-xs text-gray-400 mt-2">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ß‡∏±‡∏ô‡∏ó‡∏≤‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏Ñ‡∏ï‡∏¥ (‡∏Ç‡∏∂‡πâ‡∏ô/‡πÅ‡∏£‡∏°) ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                    </div>
                    <div class="space-y-4">
                        <div class="relative">
                            <label class="absolute -top-2.5 left-3 bg-white px-2 text-xs text-green-700 font-bold rounded">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                            <select id="inputDay" class="custom-select w-full p-3.5 bg-green-50/50 border border-green-200 rounded-xl text-green-900 outline-none focus:ring-2 focus:ring-green-500 transition-shadow font-medium"></select>
                        </div>
                        <div class="relative">
                            <label class="absolute -top-2.5 left-3 bg-white px-2 text-xs text-green-700 font-bold rounded">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label>
                            <select id="inputMonth" class="custom-select w-full p-3.5 bg-green-50/50 border border-green-200 rounded-xl text-green-900 outline-none focus:ring-2 focus:ring-green-500 transition-shadow font-medium">
                                <option value="1">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°</option>
                                <option value="2">‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå</option>
                                <option value="3">‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°</option>
                                <option value="4">‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô</option>
                                <option value="5">‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°</option>
                                <option value="6">‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô</option>
                                <option value="7">‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°</option>
                                <option value="8">‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°</option>
                                <option value="9">‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô</option>
                                <option value="10">‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°</option>
                                <option value="11">‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô</option>
                                <option value="12">‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°</option>
                            </select>
                        </div>
                        <div class="relative">
                            <label class="absolute -top-2.5 left-3 bg-white px-2 text-xs text-green-700 font-bold rounded">‡∏õ‡∏µ ‡∏û.‡∏®.‡πÄ‡∏Å‡∏¥‡∏î</label>
                            <select id="inputYear" class="custom-select w-full p-3.5 bg-green-50/50 border border-green-200 rounded-xl text-green-900 outline-none focus:ring-2 focus:ring-green-500 transition-shadow font-medium"></select>
                        </div>
                    </div>
                </div>
                <button onclick="startAnalysis()" class="w-full bg-gradient-to-r from-green-800 to-green-600 text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-all flex justify-center items-center gap-2 mb-2 group hover:shadow-xl">
                    <span>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô/‡πÅ‡∏£‡∏°)</span> <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                </button>
            </div>

            <div id="resultFace" class="card-face card-back">
                
                <div id="resultHeader" class="back-header h-72 p-4 text-white flex flex-col items-center justify-start bg-gradient-to-br transition-all duration-700">
                    <div class="absolute inset-0 bg-black/10"></div>
                    <div class="avatar-container relative z-10">
                        <img id="avatarImg" src="" alt="3D Avatar" class="avatar-img hidden">
                    </div>
                    
                    <h2 class="text-2xl font-bold drop-shadow-md z-10 mt-1" id="resMain">...</h2>
                    
                    <div class="z-10 flex flex-col items-center mt-2 w-full px-4">
                         <span class="text-[10px] bg-white/20 px-2 py-0.5 rounded-full backdrop-blur-md z-10 border border-white/30 mb-1" id="resSub">...</span>
                         
                         <div class="bg-black/30 w-full py-2 rounded-lg backdrop-blur-sm border border-white/10 mt-1 text-center">
                             <p class="text-[10px] text-gray-200">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏Ñ‡∏ï‡∏¥ (Re-Calibrated):</p>
                             <p class="text-lg text-yellow-300 font-bold" id="lunarInfo">...</p>
                         </div>
                    </div>
                </div>

                <div class="back-content space-y-4">
                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="text-green-800 font-bold text-sm mb-2"><i class="fas fa-notes-medical bg-green-100 p-1.5 rounded-full text-green-600 mr-2 text-xs"></i> ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ</h3>
                        <p id="resDesc" class="text-gray-600 text-sm leading-relaxed font-medium"></p>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-2xl border border-blue-200">
                        <h3 class="text-blue-800 font-bold text-sm mb-2"><i class="fas fa-user-circle mr-2 text-blue-600"></i> ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
                        <p id="resTrait" class="text-gray-600 text-sm leading-relaxed"></p>
                    </div>
                    <div class="bg-red-50 p-4 rounded-2xl border border-red-200">
                        <h3 class="text-red-800 font-bold text-sm mb-2"><i class="fas fa-exclamation-triangle mr-2 text-red-600"></i> ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á/‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á</h3>
                        <p id="resAvoid" class="text-gray-600 text-sm leading-relaxed"></p>
                    </div>
                    <div class="bg-yellow-50 p-4 rounded-2xl border border-yellow-100">
                         <h3 class="text-yellow-800 font-bold text-sm mb-2"><i class="fas fa-utensils bg-yellow-200 p-1.5 rounded-full text-yellow-700 mr-2 text-xs"></i> ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏î‡∏∏‡∏•</h3>
                        <p id="resFood" class="text-gray-600 text-sm leading-relaxed"></p>
                    </div>
                </div>

                <div class="back-footer">
                    <div class="text-center mb-2">
                        <p class="text-[10px] text-gray-400 bg-gray-50 inline-block px-3 py-1 rounded-full border border-gray-100">
                            <i class="fas fa-book mr-1 text-green-600"></i> ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏°‡∏∏‡∏è‡∏ê‡∏≤‡∏ô ‡∏£‡∏û.‡∏™‡∏∞‡πÄ‡∏î‡∏≤
                        </p>
                    </div>
                    <button onclick="resetCard()" class="w-full py-3 bg-gray-100 rounded-xl text-gray-600 text-sm font-bold hover:bg-gray-200 transition flex justify-center items-center gap-2">
                        <i class="fas fa-redo"></i> ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyX7ZJvwflkNzhZ1SPPOJZZcJBvh_Bpbc2acOjh6fEcj58fv9wHu4i9M8J5BoCNmIoDbw/exec'; 

        window.onload = function() {
            const daySelect = document.getElementById('inputDay');
            for(let i=1; i<=31; i++) { let opt = document.createElement('option'); opt.value = i; opt.innerHTML = i; daySelect.appendChild(opt); }
            const yearSelect = document.getElementById('inputYear');
            const currentYearBE = new Date().getFullYear() + 543;
            for(let i=0; i<100; i++) { let y = currentYearBE - i; let opt = document.createElement('option'); opt.value = y - 543; opt.innerHTML = y; yearSelect.appendChild(opt); }
            yearSelect.value = (currentYearBE - 30 - 543);
        }

        // ‚úÖ LOGIC 1: High Precision Moon Calculation (V2 - Tuned)
        function calculateRealLunarDate(day, month, yearAD) {
            const date = new Date(yearAD, month - 1, day);
            
            // ‡πÉ‡∏ä‡πâ Epoch ‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏î‡∏±‡∏ö (New Moon): 6 ‡∏°.‡∏Ñ. 2000 
            const knownNewMoon = new Date(2000, 0, 6, 18, 14, 0); 
            const diffTime = date.getTime() - knownNewMoon.getTime();
            const diffDays = diffTime / (1000 * 3600 * 24);
            const synodicMonth = 29.53059; // ‡∏Ñ‡∏≤‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏à‡∏£‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢
            
            let moonAge = diffDays % synodicMonth;
            if (moonAge < 0) moonAge += synodicMonth;
            
            // üõ†Ô∏è CALIBRATION V2: ‡∏•‡∏î Offset ‡∏•‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ä‡πâ‡∏≤‡∏•‡∏á 1 ‡∏ß‡∏±‡∏ô
            // ‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏° +1.5 ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô +0.5 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏´‡∏•‡∏ß‡∏á (1 ‡∏°.‡∏Ñ. 38 = ‡∏Ç‡∏∂‡πâ‡∏ô 1 ‡∏Ñ‡πà‡∏≥)
            moonAge += 0.5; 
            
            if (moonAge > synodicMonth) moonAge -= synodicMonth;

            // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô/‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°
            let phase = "";
            let lunarDay = 0;
            const roundedAge = Math.floor(moonAge) + 1; // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡∏Ñ‡πà‡∏≥‡∏ó‡∏µ‡πà 1
            
            if (roundedAge <= 15) {
                phase = "Waxing"; // ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
                lunarDay = roundedAge;
            } else {
                phase = "Waning"; // ‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°
                lunarDay = roundedAge - 15;
            }
            
            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÑ‡∏ó‡∏¢ (Month Mapping)
            // ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12=1, 1=2
            const monthMap = { 12: 1, 1: 2, 2: 3, 3: 4, 4: 5, 5: 6, 6: 7, 7: 8, 8: 9, 9: 10, 10: 11, 11: 12 };
            let thaiMonth = monthMap[month];

            // ‚ö†Ô∏è YEAR SPECIFIC FIX: ‡∏õ‡∏µ 2538 (1995)
            // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1-3 ‡∏õ‡∏µ 2538 (‡∏ï‡πâ‡∏ô‡∏õ‡∏µ) -> ‡∏¢‡∏±‡∏á‡∏ô‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡∏à‡∏≠ (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2,3,4)
            // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9-10 ‡∏õ‡∏µ 2538 -> ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏µ‡∏≠‡∏ò‡∏¥‡∏Å‡∏°‡∏≤‡∏™
            if (yearAD === 1995) {
                if(month >= 8) thaiMonth += 1; // ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà ‡∏™.‡∏Ñ. ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏õ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô 1 ‡∏Ç‡∏±‡πâ‡∏ô
                if(thaiMonth > 12) thaiMonth = 1;
            }

            // Logic ‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô "‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô" ‡πÉ‡∏ô "‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á" (‡∏ß‡∏±‡∏ô‡∏™‡∏≤‡∏Å‡∏• > 15)
            if (phase === "Waxing" && day > 15) {
                thaiMonth += 1;
                if (thaiMonth > 12) thaiMonth = 1;
            }

            // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏•‡∏Ç‡πÑ‡∏ó‡∏¢
            const thaiNums = ["‡πê","‡πë","‡πí","‡πì","‡πî","‡πï","‡πñ","‡πó","‡πò","‡πô"];
            const toThaiNum = (num) => num.toString().split('').map(d => thaiNums[d] || d).join('');

            return {
                phase: phase,
                lunarDay: lunarDay,
                thaiMonth: thaiMonth,
                display: `${phase === "Waxing" ? "‡∏Ç‡∏∂‡πâ‡∏ô" : "‡πÅ‡∏£‡∏°"} ${toThaiNum(lunarDay)} ‡∏Ñ‡πà‡∏≥ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ${toThaiNum(thaiMonth)}`
            };
        }

        // 2. Database: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏Å‡∏≤‡∏£ (‡∏ï‡∏≤‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡∏£‡∏û.‡∏™‡∏∞‡πÄ‡∏î‡∏≤)
        const sadaoData = [
            // --- ‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô ---
            { startM: 1, startP: "Waning", endM: 2, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô (‡∏õ‡∏ñ‡∏ß‡∏µ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 1-2", color: "from-yellow-600 to-brown-700", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Construction%20Worker.png",
              desc: "‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ú‡∏π‡∏Å ‡∏Ç‡∏±‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡∏•‡∏≥‡∏ö‡∏≤‡∏Å ‡∏õ‡∏ß‡∏î‡∏ó‡πâ‡∏≠‡∏á ‡∏•‡∏°‡∏ï‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏™‡πâ‡∏ô", avoid: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡πà‡∏≠‡∏¢‡∏¢‡∏≤‡∏Å ‡∏Ç‡∏≠‡∏á‡∏ó‡∏≠‡∏î",
              trait: "‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏™‡∏π‡∏á‡πÉ‡∏´‡∏ç‡πà ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡πÉ‡∏´‡∏ç‡πà ‡∏ú‡∏°‡∏î‡∏Å‡∏î‡∏≥ ‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏â‡∏∞‡∏â‡∏≤‡∏ô ‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏ô‡πà‡∏ô ‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö", food: "‡∏Ñ‡∏ß‡∏£‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏ù‡∏≤‡∏î ‡∏´‡∏ß‡∏≤‡∏ô ‡∏°‡∏±‡∏ô ‡πÄ‡∏Ñ‡πá‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏±‡∏Å‡∏Å‡∏π‡∏î ‡∏°‡∏±‡∏á‡∏Ñ‡∏∏‡∏î ‡∏ù‡∏£‡∏±‡πà‡∏á‡∏î‡∏¥‡∏ö ‡∏ü‡∏±‡∏Å‡∏ó‡∏≠‡∏á ‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å ‡∏ñ‡∏±‡πà‡∏ß‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏á‡∏≤‡∏∞ ‡∏ô‡πâ‡∏≥‡∏ô‡∏° ‡∏≠‡πâ‡∏≠‡∏¢ ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠" },
            { startM: 2, startP: "Waning", endM: 3, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô (‡∏õ‡∏ñ‡∏ß‡∏µ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 2-3", color: "from-yellow-600 to-brown-700", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Lifting%20Weights.png",
              desc: "‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏™‡∏∏‡∏î ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡∏≠‡∏¥‡πà‡∏° ‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢", avoid: "‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢",
              trait: "‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏™‡∏±‡∏ô‡∏ó‡∏±‡∏î ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÅ‡∏ù‡∏á", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏™‡∏∏‡∏Ç‡∏∏‡∏° ‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏ù‡∏≤‡∏î ‡∏´‡∏ß‡∏≤‡∏ô ‡∏°‡∏±‡∏ô ‡πÄ‡∏Ñ‡πá‡∏°" },
            { startM: 3, startP: "Waning", endM: 4, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô (‡∏õ‡∏ñ‡∏ß‡∏µ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 3-4", color: "from-yellow-600 to-brown-700", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Walking.png",
              desc: "‡∏ñ‡πà‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡∏ß‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ (‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏™‡∏•‡∏á) ‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞", avoid: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏™‡∏•‡∏á ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡πà‡∏≠‡∏¢‡∏¢‡∏≤‡∏Å",
              trait: "‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏ô‡πà‡∏ô‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡∏î‡∏∑‡πâ‡∏≠‡∏£‡∏±‡πâ‡∏ô", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏ù‡∏≤‡∏î‡∏™‡∏°‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏ß‡πâ‡∏≤‡∏î‡∏¥‡∏ö ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô ‡∏°‡∏±‡∏ô ‡πÄ‡∏Ñ‡πá‡∏°" },

            // --- ‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü ---
            { startM: 4, startP: "Waning", endM: 5, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡πÄ‡∏ï‡πÇ‡∏ä)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4-5", color: "from-orange-500 to-red-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Sweating.png",
              desc: "‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏° ‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏∑‡∏î ‡πÑ‡∏Ç‡πâ‡πÅ‡∏î‡∏î ‡∏£‡πâ‡∏≠‡∏ô‡πÉ‡∏ô ‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏Å", avoid: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏à‡∏±‡∏î ‡πÄ‡∏ú‡πá‡∏î‡∏à‡∏±‡∏î ‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏à‡∏±‡∏î ‡πÄ‡∏Ñ‡πá‡∏°‡∏à‡∏±‡∏î ‡πÇ‡∏°‡πÇ‡∏´ ‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå ‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î",
              trait: "‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏™‡∏°‡∏™‡πà‡∏ß‡∏ô ‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≤‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏û‡∏π‡∏î‡∏ä‡∏±‡∏î ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á ‡∏´‡∏¥‡∏ß‡∏ö‡πà‡∏≠‡∏¢ ‡∏Å‡∏¥‡∏ô‡∏à‡∏∏ ‡∏Ç‡∏µ‡πâ‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î ‡πÇ‡∏Å‡∏£‡∏ò‡∏á‡πà‡∏≤‡∏¢‡∏´‡∏≤‡∏¢‡πÄ‡∏£‡πá‡∏ß", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏à‡∏∑‡∏î ‡πÄ‡∏¢‡πá‡∏ô ‡∏Ç‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ï‡∏á‡πÇ‡∏° ‡∏ï‡πâ‡∏°‡∏à‡∏∑‡∏î‡∏ü‡∏±‡∏Å" },
            { startM: 6, startP: "Waning", endM: 7, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡πÄ‡∏ï‡πÇ‡∏ä)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 6-7", color: "from-orange-500 to-red-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Running.png",
              desc: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÇ‡∏•‡∏´‡∏¥‡∏ï ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô ‡∏ô‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏Å ‡∏ï‡∏∑‡πà‡∏ô‡∏á‡πà‡∏≤‡∏¢", avoid: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏à‡∏±‡∏î ‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå",
              trait: "‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏Ñ‡∏•‡πà‡∏ß ‡πÇ‡∏Å‡∏£‡∏ò‡∏á‡πà‡∏≤‡∏¢‡∏´‡∏≤‡∏¢‡πÄ‡∏£‡πá‡∏ß ‡∏ú‡∏°‡∏´‡∏á‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏Ç‡∏°‡πÄ‡∏¢‡πá‡∏ô ‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô" },
            { startM: 8, startP: "Waning", endM: 9, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡πÄ‡∏ï‡πÇ‡∏ä)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8-9", color: "from-orange-500 to-red-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Facepalming.png",
              desc: "‡∏õ‡∏ß‡∏î‡∏®‡∏µ‡∏£‡∏©‡∏∞ ‡∏õ‡∏ß‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡∏ï‡∏≤ ‡∏´‡∏π‡∏≠‡∏∑‡πâ‡∏≠ ‡∏ß‡∏¥‡∏á‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏®‡∏µ‡∏£‡∏©‡∏∞", avoid: "‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î‡∏à‡πâ‡∏≤ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡πÄ‡∏ú‡πá‡∏î‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",
              trait: "‡∏Ñ‡∏¥‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏≥‡πÄ‡∏£‡πá‡∏ß ‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î‡∏á‡πà‡∏≤‡∏¢", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏´‡∏≠‡∏°‡πÄ‡∏¢‡πá‡∏ô ‡∏à‡∏∑‡∏î" },

            // --- ‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° ---
            { startM: 7, startP: "Waning", endM: 8, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° (‡∏ß‡∏≤‡πÇ‡∏¢)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 7-8", color: "from-emerald-400 to-green-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Gesturing%20NO.png",
              desc: "‡πÑ‡∏≠ ‡∏£‡∏∞‡∏Ñ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á‡∏Ñ‡∏≠ ‡πÄ‡∏à‡πá‡∏ö‡∏Ñ‡∏≠ ‡∏à‡∏∏‡∏Å‡∏Ñ‡∏≠ ‡∏•‡∏°‡∏ï‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô", avoid: "‡∏Å‡∏≤‡∏£‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏≠‡∏î‡∏ô‡∏≠‡∏ô ‡∏Å‡∏•‡∏±‡πâ‡∏ô‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞/‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞ ‡∏¢‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡∏±‡∏Å ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏à‡∏±‡∏î ‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•",
              trait: "‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏ú‡∏≠‡∏° ‡∏ú‡∏¥‡∏ß‡πÅ‡∏´‡πâ‡∏á ‡∏ú‡∏°‡∏ö‡∏≤‡∏á ‡∏û‡∏π‡∏î‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô ‡∏Ç‡∏µ‡πâ‡∏Å‡∏•‡∏±‡∏ß ‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏• ‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏´‡πá‡∏ô", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡πÄ‡∏ú‡πá‡∏î‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ä‡∏∏‡πà‡∏°‡∏Ñ‡∏≠" },
            { startM: 8, startP: "Waning", endM: 9, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° (‡∏ß‡∏≤‡πÇ‡∏¢)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 8-9", color: "from-emerald-400 to-green-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Cartwheeling.png",
              desc: "‡∏ó‡πâ‡∏≠‡∏á‡∏≠‡∏∑‡∏î ‡πÅ‡∏ô‡πà‡∏ô‡∏ó‡πâ‡∏≠‡∏á ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏¢‡πà‡∏≠‡∏¢ ‡πÄ‡∏£‡∏≠‡πÄ‡∏´‡∏°‡πá‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß", avoid: "‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡∏ó‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î",
              trait: "‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÄ‡∏£‡πá‡∏ß ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô", food: "‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏Ç‡∏±‡∏ö‡∏•‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏¥‡∏á ‡∏Ç‡πà‡∏≤ ‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ" },
            { startM: 9, startP: "Waning", endM: 10, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏° (‡∏ß‡∏≤‡πÇ‡∏¢)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 9-10", color: "from-emerald-400 to-green-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Pouting.png",
              desc: "‡∏Å‡∏£‡∏î‡πÑ‡∏´‡∏•‡∏¢‡πâ‡∏≠‡∏ô ‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏ü‡πâ‡∏≠ ‡∏ó‡πâ‡∏≠‡∏á‡∏ö‡∏¥‡∏î ‡πÅ‡∏™‡∏ö‡∏£‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏≠‡∏Å ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏¢‡πà‡∏≠‡∏¢", avoid: "‡∏Å‡∏≤‡∏£‡∏≠‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏ó‡∏≤‡∏ô‡∏£‡∏™‡∏à‡∏±‡∏î ‡∏Å‡∏≤‡πÅ‡∏ü ‡∏≠‡∏±‡∏î‡∏•‡∏°",
              trait: "‡∏Ñ‡∏¥‡∏î‡∏°‡∏≤‡∏Å ‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏•‡∏á‡∏Å‡∏£‡∏∞‡πÄ‡∏û‡∏≤‡∏∞ ‡∏ô‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏Å", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏¢‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢ ‡∏£‡∏™‡πÑ‡∏°‡πà‡∏à‡∏±‡∏î" },

            // --- ‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ ---
            { startM: 10, startP: "Waning", endM: 11, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ (‡∏≠‡∏≤‡πÇ‡∏õ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 10-11", color: "from-blue-400 to-cyan-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Getting%20Massage.png",
              desc: "‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏ß‡∏î‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠ ‡∏õ‡∏ß‡∏î‡∏Ç‡πâ‡∏≠‡πÄ‡∏Ç‡πà‡∏≤ ‡∏õ‡∏ß‡∏î‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å ‡∏£‡∏¥‡∏î‡∏™‡∏µ‡∏î‡∏ß‡∏á ‡∏ù‡∏µ ‡∏™‡∏¥‡∏ß", avoid: "‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô‡∏à‡∏±‡∏î ‡∏£‡∏™‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏à‡∏±‡∏î ‡∏£‡∏™‡πÄ‡∏Ñ‡πá‡∏°‡∏à‡∏±‡∏î ‡∏ô‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",
              trait: "‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏≠‡∏ß‡∏ö ‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≤‡∏ß ‡∏ï‡∏≤‡πÇ‡∏ï ‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏û‡πÄ‡∏£‡∏≤‡∏∞ ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ä‡πâ‡∏≤ ‡∏ú‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏ß‡∏¢ ‡∏ú‡∏°‡∏î‡∏Å‡∏î‡∏≥ ‡∏ä‡∏≠‡∏ö‡∏ô‡∏≠‡∏ô ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏≤ (‡πÅ‡∏Å‡πâ‡∏õ‡∏ß‡∏î) ‡∏£‡∏™‡∏Ç‡∏°" },
            { startM: 11, startP: "Waning", endM: 12, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ (‡∏≠‡∏≤‡πÇ‡∏õ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 11-12", color: "from-blue-400 to-cyan-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Sneezing.png",
              desc: "‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏û‡πâ ‡∏´‡∏ß‡∏±‡∏î ‡∏ô‡πâ‡∏≥‡∏°‡∏π‡∏Å ‡∏Å‡∏£‡∏ô ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î ‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å", avoid: "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡∏à‡∏±‡∏î ‡∏ù‡∏∏‡πà‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏´‡∏ß‡∏≤‡∏ô/‡∏°‡∏±‡∏ô/‡πÄ‡∏Ñ‡πá‡∏°‡∏à‡∏±‡∏î",
              trait: "‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏ä‡πâ‡∏≤ ‡∏ä‡∏≠‡∏ö‡∏ô‡∏≠‡∏ô ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡πÄ‡∏ú‡πá‡∏î‡∏£‡πâ‡∏≠‡∏ô ‡∏£‡∏™‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß ‡∏ä‡πà‡∏ß‡∏¢‡∏Ç‡∏±‡∏ö‡πÄ‡∏™‡∏°‡∏´‡∏∞" },
            { startM: 12, startP: "Waning", endM: 1, endP: "Waxing", main: "‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ (‡∏≠‡∏≤‡πÇ‡∏õ)", sub: "‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 12-1", color: "from-blue-400 to-cyan-600", avatarUrl: "https://raw.githubusercontent.com/Tarikul-Islam-Anik/Animated-Fluent-Emojis/master/Emojis/People/Person%20Shrugging.png",
              desc: "‡∏ú‡∏î‡∏ú‡∏∑‡πà‡∏ô ‡∏™‡∏¥‡∏ß ‡∏•‡∏°‡∏û‡∏¥‡∏© ‡∏Ñ‡∏±‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏û‡πâ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á", avoid: "‡∏Å‡∏≤‡∏£‡∏ô‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏°‡∏±‡∏Å‡∏î‡∏≠‡∏á ‡∏£‡∏™‡∏à‡∏±‡∏î",
              trait: "‡∏ú‡∏¥‡∏ß‡∏û‡∏£‡∏£‡∏ì‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏ß‡∏¢ ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡πÅ‡∏û‡πâ‡∏á‡πà‡∏≤‡∏¢", food: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏™‡∏Ç‡∏° ‡∏£‡∏™‡∏à‡∏∑‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏≠‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏î" }
        ];

        // 3. Logic Matching
        function getSadaoElement(lunarInfo) {
            let tm = lunarInfo.thaiMonth;
            let tp = lunarInfo.phase; // "Waxing" or "Waning"

            for (let rule of sadaoData) {
                if (rule.startM < rule.endM) {
                    let isAfterStart = (tm > rule.startM) || (tm === rule.startM && tp === rule.startP);
                    let isBeforeEnd = (tm < rule.endM) || (tm === rule.endM && tp === "Waxing");
                    if (isAfterStart && isBeforeEnd) return rule;
                } else { // ‡∏Ç‡πâ‡∏≤‡∏°‡∏õ‡∏µ
                    let isAfterStart = (tm === rule.startM && tp === rule.startP) || (tm > rule.startM);
                    let isBeforeEnd = (tm === rule.endM && tp === "Waxing") || (tm < rule.endM);
                    if (isAfterStart || isBeforeEnd) return rule;
                }
            }
            return sadaoData[0]; // Fallback
        }

        async function startAnalysis() {
            const d = parseInt(document.getElementById('inputDay').value);
            const m = parseInt(document.getElementById('inputMonth').value);
            const y = parseInt(document.getElementById('inputYear').value);
            const yAD = y - 543;

            // 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏±‡∏ô‡∏ó‡∏£‡∏Ñ‡∏ï‡∏¥ (Corrected)
            const lunarInfo = calculateRealLunarDate(d, m, yAD);
            
            // 2. ‡∏´‡∏≤‡∏ò‡∏≤‡∏ï‡∏∏
            const result = getSadaoElement(lunarInfo);

            // Update UI
            document.getElementById('resMain').innerText = result.main;
            document.getElementById('resSub').innerText = result.sub;
            document.getElementById('lunarInfo').innerText = lunarInfo.display;
            document.getElementById('resDesc').innerText = result.desc;
            document.getElementById('resAvoid').innerText = result.avoid;
            document.getElementById('resTrait').innerText = result.trait;
            document.getElementById('resFood').innerText = result.food;

            const header = document.getElementById('resultHeader');
            header.className = `back-header h-72 p-4 text-white flex flex-col items-center justify-start bg-gradient-to-br transition-all duration-700 ${result.color}`;
            
            const avatarImg = document.getElementById('avatarImg');
            avatarImg.src = result.avatarUrl;
            avatarImg.classList.remove('hidden');

            document.getElementById('cardObject').classList.add('is-flipped');
            
            try {
                const birthDateStr = `${yAD}-${String(m).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
                fetch(SCRIPT_URL, {
                    method: 'POST', mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ userId: "Guest", birthDate: birthDateStr, element: result.main, subElement: result.sub })
                });
            } catch(e) {}
        }

        function resetCard() { document.getElementById('cardObject').classList.remove('is-flipped'); }
    </script>
</body>
</html>
